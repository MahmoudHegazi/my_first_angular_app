<!DOCTYPE html>
<html lang="en" ng-app="myAPP">
  <head>
    <title>My First Angular HTML Woocommerce</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <style>
      .max_width30 {max-width: 30% !important;}
      .max_width200px {max-width: 200px !important;}
      .w25 {min-width: 25% !important; width:25% !important; max-width: 25% !important; }
      .w200px {min-width: 150px !important; width:150px% !important; max-width: 150px !important; }
      .bg_chartreusel {background: #7fff0096 !important;}
      .bg_khaki {background: khaki !important;}
      .text_black {color: black !important;}
      .mnw_mxcontent {min-width: max-content !important;}
      .main_bshadow {box-shadow: 0 4px 8px 0 rgba(240, 240, 230, 0.2), 0 6px 20px 0 rgba(250, 200, 80, 0.15);}
    </style>
    <script>
    const app = angular.module('myAPP', []);
    app.controller('bodyController', function($scope, $rootScope) {
        // Set a global variable on $rootScope
        $rootScope.bcountry1 = 'test';
        $rootScope.selectedCategory = '';
        $rootScope.data = {
            regions: [
              {
                  name: 'europe',
                  bs: {
                      'cont': 'bg-primary text-white',
                      'label': 'text-white',
                      'select': 'bg-white text-dark border border-success'
                    },
                  displayName: 'Europe',
                  countries: [{	
                          name: 'germany',
                          displayName: 'Germany',
                          currency: 'Euro',
                          currency_short: 'EUR'
                      },
                      {
                          name: 'great_britain',
                          displayName: 'Great Britain',
                          currency: 'Pound sterling',
                          currency_short: 'GBP'
                      },
                      {
                          name: 'italy',
                          displayName: 'Italy',
                          currency: 'euro',
                          currency_short: 'E'
                      },
                  ],
              }, {
                  name: 'asia',
                  displayName: 'Asia',
                  bs: {
                      'cont': 'bg-success text-white',
                      'label': 'text-white',
                      'select': 'bg_chartreusel text_black border border-white'
                  },
                  countries: [{
                          name: 'uae',
                          displayName: 'United Arab Emirates',
                          currency: 'Drhim Yuan',
                          currency_short: 'EGP'
                      },
                      {
                          name: 'china',
                          displayName: 'China',
                          currency: 'Chinese yuan',
                          currency_short: 'CNY'
                      },
                      {
                          name: 'saudi',
                          displayName: 'Saudi',
                          currency: 'Saudi Arabian Riyal',
                          currency_short: 'SAR'
                      },
                  ],
              }, {
                  name: 'africa',
                  displayName: 'Africa',
                  bs: {
                      'cont': 'bg-warning text-dark',
                      'label': 'text-dark',
                      'select': 'bg_khaki text-dark border border-dark'
                  },
                  countries: [{
                          name: 'egypt',
                          displayName: 'Egypt',
                          language: 'arabic',
                          displayLanguage: 'Arabic',
                          currency: 'Egypt Pound',
                          currency_short: 'EGP'
                      },
                      {
                          name: 'south_africa',
                          displayName: 'South africa',
                          currency: 'South African rand',
                          currency_short: 'ZAR'
                      },
                      {
                          name: 'tunisia',
                          displayName: 'Tunisia',
                          currency: 'Tunisian dinar',
                          currency_short: 'DT'
                      },
                  ],
              }
                ],
            productsData: [
                 {
                    name: 'online_games',
                    displayName: 'Online Games',
                    type: 'category_section',
                    products: [
                      {
                        name: 'lol', 
                        displayName: 'League of Legends',
                        type: 'product',
                        description: 'League of legends game sent with licence and 2 skins.',
                        sellerName: 'Riot games2',
                        seller_id: 1002,
                        price: '101.00'
                      },
                      {
                        name: 'mbw', 
                        displayName: 'Mount & Blade: Warband',
                        type: 'product',
                        description: 'Mount & Blade: Warband game sent with licence only',
                        sellerName: 'Super Seller',
                        seller_id: 7,
                        price: '47.49'
                      },
                      {
                        name: 'apti', 
                        displayName: 'A Plague Tale: Innocence',
                        type: 'product',
                        description: 'A Plague Tale: Innocence game sent with 2 licences',
                        sellerName: 'Auto Seller',
                        seller_id: 13,
                        price: '33.99'
                      }
                    ]
                  },
              {
                name: 'applications',
                displayName: 'Applications',
                type: 'category',
                sections: [

                  {
                    name: 'web_apps',
                    displayName: 'Web Applications',
                    type: 'category_section',
                    products: [
                      {
                        name: 'scrape_script', 
                        displayName: 'Auto Scraper',
                        description: 'this scraper scrape google public search results, without error',
                        sellerName: 'Auto Developer',
                        seller_id: 12,
                        type: 'product',
                        price: '50.00'
                      },
                      {
                        name: 'auto_tester', 
                        displayName: 'Auto Tester',
                        description: 'this dynamic test create application, it provide you with tool that create test script it can generate unit test steps or selenuim steps or both, how it works create new test, configure the tool will be used test type unit test or multiple unit test based or selenuim test or requests and bs4 tests then start add test steps, steps can be findElm, getElmData, clickElmenet, scrollPage 1orinfinity with stopper, getText, confirmText, add assert for variables gotten by steps of the test you create, and new actions, final result is valid python code test app that do your test target, also you can create SQL database in configuration step or access apis within test also if for example multiple sites test would be nice, this app help you as not developer create test for there website or apps',
                        sellerName: 'Auto Developer',
                        seller_id: 12,
                        
                        type: 'product',
                        price: '2100.00'
                      },
                      {
                        name: 'pdf_press', 
                        displayName: 'PDF Press',
                        sellerName: 'Python King',
                        description: 'simple app to create dynamic pdf that allow you to create pages, inside pages sections each section can contains unlimited components, note that if components larger than page height the will down to new page automatic, components can be titles containers, h1-h6, parghraphes p, span, em, b, url, image, table, numeric list, un numeric list, read excel tool that take excel convert to table and insert into your pdf as table component make sure provide not many columns to fit pdf, background image to container or page, you can use custom tool to generate google map image component for your pdfs ex add marker in speacfic place on map and take image then add in pdf this tool allow to do that but you need get your own google API keys and use it unlimited in the app, with all styling possible features to position elements in the dynamic pdf created, no templates you create your own pdf easy and desgin it as you need with drag and drop and other styling options, final result pdf file to view or download or save it for later use or update.',
                        seller_id: 1,
                        type: 'product',
                        price: '3099.00'
                      }
                    ]
                  }
                ]
              }
            ]
        };

                        console.log($rootScope, $scope);
        });
    </script>
  </head>
  <body ng-controller="bodyController" >
    <div class="container-fluid bg-primary p-3 text-white">
      <h3 class="text-center">First Angular Multi Region Seller</h3>
      <p style="font-size:0.725rem;" class="text-secondary bg-white p-2"> This Angular process all multi region seller in one page app based on strong database shecma and external payment API's included to process payment secure within single page, no login required to buy or check process also this for pyshical multi proudct sellers that sent to country</p>
    </div>
    

    <!-- countries -->
    <div class="container p-2" >

      <!-- setup and global html variables step -->
      <!-- repeat next update to create select from !jinja2 list $scope.list1 = [{},{}] note also $root.country valid-->
      <div class="container text-center bg-light shadow p-3 mb-4">
          <!-- ajax data -->
          <input type="hidden" name="country" value="{{country}}" readonly />
          <input type="hidden" name="category" value="{{selectedCategory}}" readonly />

<div class="text-center d-flex justify-content-center align-items-stretch p-3">
          <label for="region" class="mnw_mxcontent w200px mr-2 badge badge-primary  p-2 pr-3 d-flex justify-content-center align-item-center">Select Region:</label>
          <select id="region" type="text" ng-model="region" class="form-control bg-light text-secondary text-center">
            <option value="" hidden>select region</option>
            <option value="europe">Europe</option>
            <option value="asia">Asia</option>
            <option value="africa">Africa</option>
          </select>
      </div>
      <div ng-if='region'>
           <div class="text-center d-flex justify-content-center align-items-stretch p-3">
                   <label for="currency" class="mnw_mxcontent w200px p-2 mr-2 badge badge-primary d-flex justify-content-center align-item-center">Select Currency:</label>
                   <select class="form-control bg-light text-secondary text-center" ng-modal="currency" id="currency" name="currency">
                       <option value="" selected hidden disabled>Select Currency</option>
                       <option value="euro">Euro</option>
                       <option value="dollar">Dollar</option>
                   </select>
           </div>
      </div>
      </div>
 <div ng-if="region" id="main_data" class="container p-3 shadow">
    <div class="text-center mb-3">
    <h4 class="text-center badge badge-light main_bshadow p-3 text-center">{{region.toUpperCase()}}</h4>
    </div>
    
    <!-- countries start -->
    <div id="countries_cont">
      <div ng-repeat="obj in data.regions" ng-if="region == obj.name" class="{{obj.bs.cont}} p-3 d-flex justify-content-start align-items-center">
          <label for="country" class="mr-2 w200px p-1 {{obj.bs.label}}">{{obj.displayName}}'s Country:</label>
          <select class="form-control max_width200px {{obj.bs.select}}" ng-model="country" id="country1" x='{{$root.country = country}}'>
              <option value="" selected disabled hidden>select country</option>
              <option value="country.name" ng-repeat="country in obj.countries" title="people lives in {{country.name}} speaks {{country.language}} language.">{{country.displayName}}</option>
          </select>
      </div>
    </div>
    <!-- countries end -->

</div>


<div class="container" id="main_data" >
    
    
    <div class="row">
        <div class="col-sm-3 shadow mr-auto p-0 m-0">
           <div ng-repeat="cat in data.productsData" class="container-fluid p-0 m-0">
             <button ng-click="$root.selectedCategory = cat.name" class="btn btn-outline-light text-dark btn block w-100">{{cat.displayName}}</button>
           </div>
        </div>
        <!-- categories category.sections -->
        <div class="col-sm-8 shadow">
          {{selectedCategory}}
        </div>
        

        
        <!-- games to buy -->
        <select ng-if="" title="this games transported by us in germany select which to buy" ng-model="game">
            <option value="" selected hidden disabled>select your {{language}} Game</option>
            <option value="lol">League of Legends</option>
            <option value="mbw">Mount & Blade: Warband</option>
            <option value="apti">A Plague Tale: Innocence</option>
        </select>
    </div>
    <!-- display final prices and input them for backend if form submited with game_price -->
    <div id="game_price" ng-if="currency && game">
        <input type="hidden" ng-init="gameName =
                (game == 'lol') ? 'League of Legends' :
                (game == 'mbw') ? 'Mount & Blade: Warband' : 
                (game == 'apti') ? 'A Plague Tale: Innocence' : '' " readonly />
        <input type="hidden" ng-init="gamePrice =
                (game == 'lol') ? '101':
                (game == 'mbw') ? '99': 
                (game == 'apti') ? '33' : '' " readonly />
        <input type="hidden" ng-init="currencyShort =
                (currency == 'euro') ? 'E' :
                (currency == 'dollar') ? '$' : ''" readonly />
        <h4 for="{{region}}_{{game}}" ng-bind="gameName"></h4>
        <input id="price_{{region}}_{{game}}" name="item_price" value="{{gamePrice}}" readonly hidden>
        <input id="currency_{{region}}_{{game}}" name="item_currency" value="{{currencyShort}}" readonly hidden>
        <h5 ng-if="region && country && gameName && gamePrice && currencyShort && currencyShort && currency">Price of {{gameName}} is {{gamePrice}}{{currencyShort}} in {{currency}}</h5>
    </div>
</div>
      
    </div>
    

    <!-- next update !img will be replace of language static by global root.country update outside if scoope, 
       note declered variables or models inside ng-if directive will not access outside ng-if elmenet container so we can use global variable declared
       and dummy data attr that bind value of ng-model inside ng-if to the global variable like ng-if="otherval" ng-model="country" x="$root.country = country"
      here $root.country is the global variable we can name any name else but this easy for code access
       -->
  </body>
</html> 
